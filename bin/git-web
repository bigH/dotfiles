#!/usr/bin/env bash

git_web() {
  BASE_URL="$(git merge-base-remote-url | sed -E 's#^.*@(.*):(.*)\.git#https://\1/\2#')"
  if [ "$#" = '1' ]; then
    echo "$BASE_URL/blob/$(git merge-base-branch)/$1"
  else
    echo "$BASE_URL"
  fi
}

git_web "$@"
